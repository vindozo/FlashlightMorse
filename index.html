<!DOCTYPE html>
<html lang="ru-RU">
<head>
<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<script>
Flashlight.prototype = {

    available: function (callback) {
        cordova.exec(function (avail) {
            callback(avail ? true : false);
        }, null, "Flashlight", "available", []);
    },

    switchOn: function (successCallback, errorCallback) {
        this._isSwitchedOn = true;
        cordova.exec(successCallback, errorCallback, "Flashlight", "switchOn", []);
    },

    switchOff: function (successCallback, errorCallback) {
        this._isSwitchedOn = false;
        cordova.exec(successCallback, errorCallback, "Flashlight", "switchOff", []);
    },

    toggle: function (successCallback, errorCallback) {
        if (this._isSwitchedOn) {
            this.switchOff(successCallback, errorCallback);
        } else {
            this.switchOn(successCallback, errorCallback);
        }
    },

    isSwitchedOn: function () {
        return this._isSwitchedOn;
    }
};

Flashlight.install = function () {
    if (!window.plugins) {
        window.plugins = {};
    }

    window.plugins.flashlight = new Flashlight();
    return window.plugins.flashlight;
};

cordova.addConstructor(Flashlight.install);    
</script>
<style>
html, body { 
    width: 100%;
    height: 100%;
    background: #f00;
    color: #fff;
    margin:0;
    padding:0;
}
</style>
<script>

function clicked() {
    alert('on');
}
window.plugins.flashlight.available(function(isAvailable) {
  if (isAvailable) {
 
    // switch on
    window.plugins.flashlight.switchOn(
      function() {}, // optional success callback
      function() {}, // optional error callback
      {intensity: 0.3} // optional as well
    );
 
    // switch off after 3 seconds
    setTimeout(function() {
      window.plugins.flashlight.switchOff(); // success/error callbacks may be passed
    }, 3000);
 
  } else {
    alert("Flashlight not available on this device");
  }
});
</script>
</head>
<body>
    FlashlightMorse
    <br>
    <button id="btnClick" onclick="clicked()">alert</button>
   
</body>
<html>
